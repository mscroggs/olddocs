

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>XDMFFile &mdash; FEniCS Project</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="FEniCS Project" href="../../../index.html"/>
        <link rel="up" title="dolfin.cpp.io module" href="index.html"/>
        <link rel="next" title="ufc_cell" href="ufc_cell.html"/>
        <link rel="prev" title="X3DOMParameters" href="X3DOMParameters.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> DOLFIN
          

          
          </a>

          
            
            
              <div class="version">
                0.9.11+
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Programmer’s reference for DOLFIN (Python)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../common/index.html">dolfin.common module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../compilemodules/index.html">dolfin.compilemodules module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deprecation/index.html">dolfin.deprecation module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">dolfin.cpp (Swig autogenerated module)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../common/index.html">dolfin.cpp.common module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fem/index.html">dolfin.cpp.fem module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../function/index.html">dolfin.cpp.function module</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">dolfin.cpp.io module</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="File.html">File</a></li>
<li class="toctree-l4"><a class="reference internal" href="GenericFile.html">GenericFile</a></li>
<li class="toctree-l4"><a class="reference internal" href="HDF5Attribute.html">HDF5Attribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="HDF5File.html">HDF5File</a></li>
<li class="toctree-l4"><a class="reference internal" href="HierarchicalFunction.html">HierarchicalFunction</a></li>
<li class="toctree-l4"><a class="reference internal" href="HierarchicalFunctionSpace.html">HierarchicalFunctionSpace</a></li>
<li class="toctree-l4"><a class="reference internal" href="HierarchicalMesh.html">HierarchicalMesh</a></li>
<li class="toctree-l4"><a class="reference internal" href="X3DOM.html">X3DOM</a></li>
<li class="toctree-l4"><a class="reference internal" href="X3DOMParameters.html">X3DOMParameters</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">XDMFFile</a></li>
<li class="toctree-l4"><a class="reference internal" href="ufc_cell.html">ufc_cell</a></li>
<li class="toctree-l4"><a class="reference internal" href="ufc_coordinate_mapping.html">ufc_coordinate_mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="ufc_dofmap.html">ufc_dofmap</a></li>
<li class="toctree-l4"><a class="reference internal" href="ufc_finite_element.html">ufc_finite_element</a></li>
<li class="toctree-l4"><a class="reference internal" href="ufc_form.html">ufc_form</a></li>
<li class="toctree-l4"><a class="reference internal" href="ufc_function.html">ufc_function</a></li>
<li class="toctree-l4"><a class="reference internal" href="File_create_parent_path.html">File_create_parent_path</a></li>
<li class="toctree-l4"><a class="reference internal" href="File_exists.html">File_exists</a></li>
<li class="toctree-l4"><a class="reference internal" href="X3DOM_build_x3dom_tree.html">X3DOM_build_x3dom_tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="X3DOM_html.html">X3DOM_html</a></li>
<li class="toctree-l4"><a class="reference internal" href="X3DOM_str.html">X3DOM_str</a></li>
<li class="toctree-l4"><a class="reference internal" href="new_instancemethod.html">new_instancemethod</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../la/index.html">dolfin.cpp.la module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mesh/index.html">dolfin.cpp.mesh module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../fem/index.html">dolfin.fem module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../functions/index.html">dolfin.functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../importhandler/index.html">dolfin.importhandler module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mesh/index.html">dolfin.mesh module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multistage/index.html">dolfin.multistage module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../demo/index.html">Collection of documented demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quick_reference.html">Quick Programmer’s Reference (Python)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">DOLFIN</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Programmer’s reference for DOLFIN (Python)</a> &raquo;</li>
        
          <li><a href="../index.html">dolfin.cpp module</a> &raquo;</li>
        
          <li><a href="index.html">dolfin.cpp.io module</a> &raquo;</li>
        
      <li>XDMFFile</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/programmers-reference/cpp/io/XDMFFile.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="xdmffile">
<span id="programmers-reference-cpp-io-xdmffile"></span><h1>XDMFFile<a class="headerlink" href="#xdmffile" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="dolfin.cpp.io.XDMFFile">
<em class="property">class </em><code class="descclassname">dolfin.cpp.io.</code><code class="descname">XDMFFile</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#dolfin.cpp.io.XDMFFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../common/Variable.html#dolfin.cpp.common.Variable" title="dolfin.cpp.common.Variable"><code class="xref py py-class docutils literal"><span class="pre">dolfin.cpp.common.Variable</span></code></a></p>
<p>Read and write <code class="xref cpp cpp-any docutils literal"><span class="pre">Mesh</span></code> , <code class="xref cpp cpp-any docutils literal"><span class="pre">Function</span></code> , <code class="xref cpp cpp-any docutils literal"><span class="pre">MeshFunction</span></code>  and other objects in XDMF. 
This class supports the output of meshes and functions in XDMF (<a class="reference external" href="http://www.xdmf.org">http://www.xdmf.org</a> ) format. It creates an XML file that describes the data and points to a HDF5 file that stores the actual problem data. Output of data in parallel is supported.
XDMF is not suitable for checkpointing as it may decimate some data.</p>
<p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>comm</strong> (<a class="reference internal" href="../common/MPI_Comm.html#dolfin.cpp.common.MPI_Comm" title="dolfin.cpp.common.MPI_Comm"><em>MPI_Comm</em></a>) – </li>
<li><strong>std::string filename</strong> (<em>const</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="dolfin.cpp.io.XDMFFile.Encoding_ASCII">
<code class="descname">Encoding_ASCII</code><em class="property"> = 1</em><a class="headerlink" href="#dolfin.cpp.io.XDMFFile.Encoding_ASCII" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dolfin.cpp.io.XDMFFile.Encoding_HDF5">
<code class="descname">Encoding_HDF5</code><em class="property"> = 0</em><a class="headerlink" href="#dolfin.cpp.io.XDMFFile.Encoding_HDF5" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dolfin.cpp.io.XDMFFile.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dolfin.cpp.io.XDMFFile.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the file
This closes any open HDF5 files. In ASCII mode the XML file is closed each time it is written to or read from, so <code class="xref cpp cpp-any docutils literal"><span class="pre">close</span></code>  has no effect.
From Python you can also use <code class="xref cpp cpp-any docutils literal"><span class="pre">XDMFFile</span></code>  as a context manager:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="k">with</span> <span class="n">XDMFFile</span><span class="p">(</span><span class="n">mpi_comm_world</span><span class="p">(),</span> <span class="s1">&#39;name.xdmf&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">xdmf</span><span class="p">:</span>
    <span class="n">xdmf</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">mesh</span><span class="p">)</span>
</pre></div>
</div>
<p>The file is automatically closed at the end of the with block</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">void</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dolfin.cpp.io.XDMFFile.default_encoding">
<code class="descname">default_encoding</code><em class="property"> = 0</em><a class="headerlink" href="#dolfin.cpp.io.XDMFFile.default_encoding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dolfin.cpp.io.XDMFFile.read">
<code class="descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dolfin.cpp.io.XDMFFile.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read <code class="xref cpp cpp-any docutils literal"><span class="pre">MeshValueCollection</span></code>  from file, optionally specifying dataset name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>double &gt; &amp; mvc</strong> (<em>MeshValueCollection&lt;</em>) – (MeshValueCollection&lt;double&gt;) <code class="xref cpp cpp-any docutils literal"><span class="pre">MeshValueCollection</span></code>  to restore</li>
<li><strong>name</strong> (<em>std::string</em>) – (std::string) Name of data attribute in XDMF file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dolfin.cpp.io.XDMFFile.read_checkpoint">
<code class="descname">read_checkpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dolfin.cpp.io.XDMFFile.read_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a function from the XDMF file. Supplied function must come with already initialized and compatible function space.
Functions saved as time-series must be addressed through (integer) internal counter and function name. <code class="xref cpp cpp-any docutils literal"><span class="pre">Function</span></code>  name is a name of function that was saved. Counter stands for the number of function from time-series, e.g. counter=0 refers to first saved function regardless of its time-step value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>&amp; u</strong> (<a class="reference internal" href="../function/Function.html#dolfin.cpp.function.Function" title="dolfin.cpp.function.Function"><em>Function</em></a>) – (<code class="xref cpp cpp-any docutils literal"><span class="pre">Function</span></code> ) A function to read.</li>
<li><strong>func_name</strong> (<em>std::string</em>) – (string) A name of a function to read. Must be the same on all processes in parallel.</li>
<li><strong>counter</strong> (<em>std::int64_t</em>) – (int64_t) Internal integer counter - used in time-series. Default value is -1 which points to last saved function. Counter works same as python array position key, i.e. counter = -2 points to the function before the last one.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dolfin.cpp.io.XDMFFile.thisown">
<code class="descname">thisown</code><a class="headerlink" href="#dolfin.cpp.io.XDMFFile.thisown" title="Permalink to this definition">¶</a></dt>
<dd><p>The membership flag</p>
</dd></dl>

<dl class="method">
<dt id="dolfin.cpp.io.XDMFFile.write">
<code class="descname">write</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dolfin.cpp.io.XDMFFile.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a cloud of points, with scalar values using an associated HDF5 file, or storing the data inline as XML.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>std::vector&lt; Point &gt; &amp; points</strong> (<em>const</em>) – (std::vector&lt;Point&gt;) A list of points to save.</li>
<li><strong>std::vector&lt; double &gt; &amp; values</strong> (<em>const</em>) – (std::vector&lt;double&gt;) A list of values at each point.</li>
<li><strong>encoding</strong> (<em>Encoding</em>) – (Encoding) Encoding to use: HDF5 or ASCII</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dolfin.cpp.io.XDMFFile.write_checkpoint">
<code class="descname">write_checkpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dolfin.cpp.io.XDMFFile.write_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a <code class="xref cpp cpp-any docutils literal"><span class="pre">Function</span></code>  to XDMF file for checkpointing, using an associated HDF5 file, or storing the data inline as XML.
If the file where we would like to write exists, then the function is appended to the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Function &amp; u</strong> (<em>const</em>) – (<code class="xref cpp cpp-any docutils literal"><span class="pre">Function</span></code> ) A function to save.</li>
<li><strong>function_name</strong> (<em>std::string</em>) – (string) Name of the function used in XDMF XML and HDF file (if encoding = HDF). The string is used to fill value for XML attribute Name of Grid node. It is also used in HDF file in path to datasets. Must be the same on all processes in parallel.</li>
<li><strong>time_step</strong> (<em>double</em>) – (double) Time step. It is saved only in XDMF file. The function could be saved with the same time step several times. There is an internal “counter” value stored in XDMF which differentiates the same time steps.</li>
<li><strong>encoding</strong> (<em>Encoding</em>) – (Encoding) Encoding to use: HDF5 or ASCII</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ufc_cell.html" class="btn btn-neutral float-right" title="ufc_cell" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="X3DOMParameters.html" class="btn btn-neutral" title="X3DOMParameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright DOLFIN Core, https://launchpad.net/~dolfin-core.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'0.9.11+',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>